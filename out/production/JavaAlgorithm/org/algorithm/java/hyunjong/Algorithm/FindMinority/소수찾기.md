# #프로그래머스 - 소수찾기



## 1.문제설명

1부터 입력받은 숫자 n 사이에 있는 소수의 개수를 반환하는 함수, solution을 만들어 보세요.

소수는 1과 자기 자신으로만 나누어지는 수를 의미합니다.
(1은 소수가 아닙니다.)



## 2. 제한 조건

- n은 2이상 1000000이하의 자연수입니다.

### 입출력 예

| n    | result |
| ---- | ------ |
| 10   | 4      |
| 5    | 3      |



### 입출력 예 설명

입출력 예 #1
1부터 10 사이의 소수는 [2,3,5,7] 4개가 존재하므로 4를 반환

입출력 예 #2
1부터 5 사이의 소수는 [2,3,5] 3개가 존재하므로 3를 반환



## 3-1. 풀이

```java
class Solution{
  public int soilution(int n){
 		int answer = 1;
	
		for (int i = 2; i <= n; i++) {
			for (int j = 2; j < i; j++) {
				if(i%j == 0) break;
				if(j == i-1) answer++;
			}
		}

		return answer;   
  }
}
```

- 이중 for문을 돌려서 첫번째 for문에서 i는 2부터 n까지의 수를 뽑아낸다
- 두번째 for문에서는 2부터 i 이전까지의 수를 비교해서 i가 j에 나누어 떨어지면 소수가 아니기 때문에 break를 건다
  - 이때 i와 j는 어차피 나누어 떨어지니  j = i-1가 될때까지 나누어떨어지지않으면 소수로 판단하고 +1을 해준다.



### 결과

반환값은 제대로 나오나 8,9,10 테스트 케이스와 효율성 테스트에서 탈락했다.

검색해보니 `에라토스테네스의 체`를 사용해서 소수를 구할수있다고했다.



`에라토스테네스의 체`란,  **0과 1을 제외한 n까지의 수에서 각 수의 배수들을 제거하다보면 남는 것들이 소수인것**, 이라고 한다.

아래 예시는, 120까지의 수에서 소수를 구하는 에라토스테네스의 체를 사용한 방법이다.

![img](https://blog.kakaocdn.net/dn/38eHN/btqA8iGafD7/ziA43Ku5YjWzOHg3yIUKC0/img.gif)



## 3-2. 풀이

```java
class Solution {
    public int solution(int n) {
        int answer = 0;

		int[] minority = new int[n + 1];

		for (int i = 2; i <= n; i++) {
			minority[i] = i;	//1
		}

		for (int i = 2; i <= n; i++) {
			if (minority[i] == 0)	//2
				continue;

			for (int j = i * 2; j <= n; j += i) {
				minority[j] = 0;	//3
			}
		}

		for (int m : minority) {
			if (m != 0)
				answer++;	//4
		}

		return answer;
    }
}
```

1. 2부터 n까지의 수를 minority배열안에 넣는다.
   - n이 5일때, [0,0,2,3,4,5]가 들어가게된다.
2. 이중 for문을 돌려서 만약 해당 index의 값이 0이면 소수가 아니므로 돌아간다.
3. 두번째 for문에서 첫번째 수를 제외하고 배수의 두 번째 수부터 비교해서 n까지 해당 수의 배수들을 0으로 변경시켜준다.
   - i가 2이고 n이 10일때, 첫번째 수인 2를 제외하고 4,6,8,10자리의 수들을 0으로 바꿔준다(소수가 아니기 떄문에).
   - i가 3일떄는 똑같이 3을 제외하고 3,6,9자리의 수를 0으로 바꿔준다
   - i가 4일때는 이미 2의 배수이기 떄문에 0으로 변경되어있기떄문에 돌아간디.
   - **이 부분이 핵심이다. 첫번째 풀이에서는 해당 수 아래의 수를 비교해왔기떄문에 시간초과가 발생한것이지만, 지금 코드에서는 각 수의 배수들을 배제하고 for문을 돌리기때문에 시간을 더 단축시킬수 있는것이다.**
4. 에라토스테네스의 체를 거친 배열에서 0이 아닌 자릿수들을 카운트하면 값이 나오게된다.